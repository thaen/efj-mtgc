{
  "permissions": {
    "allow": [
      "Bash(xargs ls:*)",
      "WebFetch(domain:api.scryfall.com)",
      "Bash(curl:*)",
      "Bash(python3:*)",
      "WebSearch",
      "Bash(python:*)",
      "Bash(sqlite3:*)",
      "Bash(make setup:*)",
      "Bash(source:*)",
      "Bash(mtg db init:*)",
      "Bash(mtg ingest:*)",
      "Bash(mtg list:*)",
      "Bash(mtg stats:*)",
      "Bash(pip install:*)",
      "Bash(pytest:*)",
      "Bash(git add:*)",
      "Bash(git commit -m \"$\\(cat <<''EOF''\nRefactor to SQLite-backed CLI with multi-platform support\n\nMajor architectural changes:\n- SQLite database for persistent collection storage \\(cards, sets, printings, collection tables\\)\n- CLI subcommands: ingest, import, export, list, show, edit, delete, stats, db\n- Import/export support for Moxfield, Archidekt, Deckbox CSV formats\n- Auto set detection from card images via Claude Vision\n- Local set caching in SQLite for fuzzy matching \\(sets are immutable\\)\n- Cross-set fallback when card not found in detected set\n- Claude API retry logic with exponential backoff\n\nNew features:\n- Fuzzy matching against cached set card lists \\(handles OCR misreads\\)\n- Set code normalization against Scryfall''s master list\n- Individual card tracking \\(one row per physical card, not aggregated\\)\n- Condition, finish, purchase price, source metadata per card\n\nProject setup:\n- pyproject.toml with setuptools\n- Makefile for setup/test/lint\n- Integration tests with real photo fixture\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git checkout:*)",
      "Bash(git push:*)",
      "Bash(gh auth:*)",
      "Bash(git remote set-url:*)",
      "Bash(brew install:*)",
      "Bash(gh repo fork:*)",
      "Bash(git remote:*)",
      "Bash(gh pr create --repo thaen/efj-mtgc --head rgantt:sqlite-cli-refactor --base main --title \"Refactor to SQLite-backed CLI with multi-platform support\" --body \"$\\(cat <<''EOF''\n## Summary\n\nMajor architectural refactor that decouples ingestion from export by storing card data in SQLite, with separate CLI subcommands for all operations.\n\n- **SQLite database** for persistent collection storage \\(cards, sets, printings, collection tables\\)\n- **CLI subcommands**: ingest, import, export, list, show, edit, delete, stats, db\n- **Import/export** for Moxfield, Archidekt, Deckbox CSV formats\n- **Auto set detection** from card images via Claude Vision\n- **Local set caching** in SQLite for fuzzy matching \\(sets are immutable\\)\n- **Fuzzy matching** against cached set card lists using difflib \\(handles OCR misreads\\)\n- **Claude API retry logic** with exponential backoff\n\n## Changes\n\n- New `mtg_collector/` package with modular CLI, db, services, importers, exporters\n- Individual card tracking \\(one row per physical card, not aggregated\\)\n- Condition, finish, purchase price, source metadata per card\n- Integration tests with real photo fixture\n- Project setup with pyproject.toml and Makefile\n\n## Test plan\n\n- [x] `make test` passes \\(integration tests require ANTHROPIC_API_KEY\\)\n- [x] `mtg db init` creates database\n- [x] `mtg ingest photo.jpg --batch` identifies and adds cards\n- [x] `mtg list` shows collection\n- [x] `mtg export -f moxfield -o out.csv` exports correctly\n\nðŸ¤– Generated with [Claude Code]\\(https://claude.ai/code\\)\nEOF\n\\)\")"
    ]
  },
  "enableAllProjectMcpServers": true,
  "enabledMcpjsonServers": [
    "guitar-chord-generator"
  ]
}
